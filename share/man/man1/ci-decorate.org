#+TITLE:Gitlab script decorator

* NAME

ci-decorate - Add prints to a script to show the commands it runs

* SYNOPSIS

#+begin_src shell
ci-decorate <SCRIPT >DECORATED_SCRIPT
#+end_src

* DESCRIPTION

This script does what gitlab does so that we see the commands being run.

It is deceptively simple: it just goes throught the script line by line and
turning

#+begin_src shell
ls
hostname
# Comment
echo $HOME
#+end_src

and for each command, it adds a command that does an echo of that command:

#+begin_src shell
printf "\033[1;32m\$ %s\033[0m" "ls" ; ls ;
printf "\033[1;32m\$ %s\033[0m" "hostname" ; hostname ;
printf "\033[1;34m\%s\033[0m" "# Commend" ;
printf "\033[1;32m\$ %s\033[0m" "echo \$HOME" ; echo $HOME ;
#+end_src
